function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{w4Pu:function(t,e,i){"use strict";i.r(e),i.d(e,"AssessmentAdminComponentModule",(function(){return Y}));var o=i("ofXK"),n=i("tyNb"),r=i("fXoL"),a=i("7JkF"),s=i("LYy9"),b=i("PLSI"),c=i("3Pt+");function l(t,e){if(1&t&&(r.Yb(0,"div",7),r.Ub(1,"div",8),r.Yb(2,"div",9),r.Yb(3,"div",10),r.Yb(4,"div",11),r.Yb(5,"div",12),r.Yb(6,"div",13),r.Yb(7,"div",10),r.Yb(8,"div",11),r.Yb(9,"div",14),r.Yb(10,"label"),r.vc(11,"Nama Atlet "),r.Xb(),r.Yb(12,"h1"),r.vc(13),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Ub(14,"hr"),r.Yb(15,"div",10),r.Yb(16,"div",15),r.Yb(17,"div",14),r.Yb(18,"label"),r.vc(19,"Memainkan kata "),r.Xb(),r.Yb(20,"h2"),r.vc(21),r.Xb(),r.Xb(),r.Xb(),r.Yb(22,"div",15),r.Yb(23,"div",14),r.Yb(24,"label"),r.vc(25,"Kontingen "),r.Xb(),r.Yb(26,"h2"),r.vc(27),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Ub(28,"div",8),r.Xb()),2&t){var i=r.ic();r.Hb(13),r.xc(" ",i.userData.atlet_name,""),r.Hb(8),r.xc(" ",i.userData.kata_name,""),r.Hb(6),r.wc(i.userData.kontingen)}}function u(t,e){if(1&t&&(r.Yb(0,"option"),r.vc(1),r.Xb()),2&t){var i=e.$implicit,o=r.ic().index,n=r.ic(2);r.Ib("selected",!(o+1!=n.optionValue[o].userId||!i.selectedTechnical)||null),r.Hb(1),r.wc(i.point)}}function d(t,e){if(1&t&&(r.Yb(0,"option"),r.vc(1),r.Xb()),2&t){var i=e.$implicit,o=r.ic().index,n=r.ic(2);r.Ib("selected",!(o+1!==n.optionValue[o].userId||!i.selectedAthletic)||null),r.Hb(1),r.wc(i.point)}}function p(t,e){if(1&t&&(r.Yb(0,"tr"),r.Yb(1,"th"),r.vc(2),r.Xb(),r.Yb(3,"th"),r.vc(4),r.Xb(),r.Yb(5,"td"),r.Yb(6,"div",22),r.Yb(7,"select",23),r.Yb(8,"option"),r.vc(9,"0"),r.Xb(),r.tc(10,u,2,2,"option",19),r.Xb(),r.Xb(),r.Xb(),r.Yb(11,"td"),r.Yb(12,"div",22),r.Yb(13,"select",23),r.Yb(14,"option"),r.vc(15,"0"),r.Xb(),r.tc(16,d,2,2,"option",19),r.Xb(),r.Xb(),r.Xb(),r.Xb()),2&t){var i=e.index,o=e.$implicit,n=r.ic(2);r.Hb(2),r.wc(i+1),r.Hb(2),r.wc(o.juri),r.Hb(6),r.lc("ngForOf",n.optionValue[i].data),r.Hb(6),r.lc("ngForOf",n.optionValue[i].data)}}function v(t,e){if(1&t&&(r.Yb(0,"div",10),r.Ub(1,"div",8),r.Yb(2,"div",16),r.Yb(3,"div",10),r.Yb(4,"div",11),r.Yb(5,"div",12),r.Yb(6,"div",13),r.Yb(7,"div",17),r.Yb(8,"table",18),r.Yb(9,"thead"),r.Yb(10,"tr"),r.Yb(11,"th"),r.vc(12,"No"),r.Xb(),r.Yb(13,"th"),r.vc(14,"Juri"),r.Xb(),r.Yb(15,"th"),r.vc(16,"Nilai Teknik"),r.Xb(),r.Yb(17,"th"),r.vc(18,"Nilai Atletik"),r.Xb(),r.Xb(),r.Xb(),r.Yb(19,"tbody"),r.tc(20,p,17,4,"tr",19),r.Xb(),r.Xb(),r.Xb(),r.Yb(21,"div",11),r.Ub(22,"hr"),r.Yb(23,"button",20),r.Ub(24,"i",21),r.vc(25," Simpan "),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Ub(26,"div",8),r.Xb()),2&t){var i=r.ic();r.Hb(20),r.lc("ngForOf",i.Data)}}var f,h,m=n.f.forChild([{path:"",component:(f=function(){function t(e,i,o){var n=this;_classCallCheck(this,t),this.socket=e,this.atletService=i,this.pointService=o,this.isLoading=!1,this.userData={},this.optionValue=[],this.originalOptionValue=[],this.userPoint=[],this.cmpUserPoint=[],this.isFound=!1,this.Data=[{juri:"j1"},{juri:"j2"},{juri:"j3"},{juri:"j4"},{juri:"j5"},{juri:"j6"},{juri:"j7"}],this.socket.emit("result-admin"),this.socket.on("data-admin",(function(){n.atletService.getAtletByMatch().then((function(t){n.userData=t.result[0],n.pointService.getPointForScoreboard(n.userData.id_atlet,n.userData.id_match).then((function(t){if(n.userPoint=t.result.athlete_point_list||t.result||[],n.cmpUserPoint=_toConsumableArray(n.userPoint),n.userPoint.length<1)for(var e=0;e<7;e++){n.optionValue.push({userId:e+1,data:[]});for(var i=5;i<10;i+=.2){var o=i.toFixed(1);n.optionValue[e].data.push({point:o})}}else{for(var r=0;r<7;r++){for(var a in n.isFound=!1,n.userPoint)n.userPoint[a].id_user-1===r&&(n.isFound=!0,n.optionValue.push({userId:n.userPoint[a].id_user,data:[],isFound:!0}));n.isFound||n.optionValue.push({userId:10*(r+1),data:[]});for(var s=5;s<10;s+=.2){var b=s.toFixed(1);n.optionValue[r].data.push({point:b})}}for(var c in n.optionValue)if(n.userPoint[c])for(var l in n.optionValue[c].data){var u=n.optionValue[c].data[l];n.userPoint[c].technical_result.toFixed(1)===u.point&&(n.optionValue[n.userPoint[c].id_user-1].data[l].selectedTechnical=!0,n.userPoint[c].athletic_result.toFixed(1)===u.point&&(n.optionValue[n.userPoint[c].id_user-1].data[l].selectedAthletic=!0)),n.userPoint[c].athletic_result.toFixed(1)===u.point&&(n.optionValue[n.userPoint[c].id_user-1].data[l].selectedAthletic=!0,n.userPoint[c].technical_result.toFixed(1)===u.point&&(n.optionValue[n.userPoint[c].id_user-1].data[l].selectedTechnical=!0))}}n.isLoading=!1})).catch((function(t){if(console.log(t),404===t.status)for(var e=5;e<10;e+=.2){var i=e.toFixed(1);n.optionValue.push({point:i,selected:!1})}n.isLoading=!1}))})).catch((function(t){if(404===t.status){console.log("notFound");for(var e=0;e<7;e++){n.optionValue.push({userId:e+1,data:[]});for(var i=5;i<10;i+=.2){var o=i.toFixed(1);n.optionValue[e].data.push({point:o})}}}console.log(t),n.isLoading=!1}))}))}return _createClass(t,[{key:"ngOnInit",value:function(){console.log(this.optionValue),this.isLoading=!0}},{key:"onSubmit",value:function(){this.socket.emit("scoreboard"),this.socket.emit("result-admin"),this.socket.emit("result-juri")}}]),t}(),f.\u0275fac=function(t){return new(t||f)(r.Tb(a.a),r.Tb(s.a),r.Tb(b.a))},f.\u0275cmp=r.Nb({type:f,selectors:[["app-assessment-admin"]],decls:8,vars:2,consts:[[1,"header","pb-6",2,"background","url('assets/images/banner/banner6.jpg')","height","200px"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"text-center","text-light","mt-3",2,"margin","auto","font-size","40px"],["class","row","style","margin-top: -80px;",4,"ngIf"],["class","row",4,"ngIf"],[1,"row",2,"margin-top","-80px"],[1,"col"],[1,"col-lg-8","col-md-10"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"text-center"],[1,"col-md-6"],[1,"col-lg-10","col-md-12"],[1,"table-responsive"],[1,"table","table-borderless"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-success","float-right"],[1,"fa","fa-save"],[1,"form-group"],[1,"form-control"]],template:function(t,e){1&t&&(r.Yb(0,"div",0),r.Yb(1,"div",1),r.Yb(2,"div",2),r.Yb(3,"div",3),r.Yb(4,"p",4),r.vc(5,"Penilaian Admin"),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.tc(6,l,29,3,"div",5),r.tc(7,v,27,1,"div",6)),2&t&&(r.Hb(6),r.lc("ngIf",!e.isLoading),r.Hb(1),r.lc("ngIf",!e.isLoading))},directives:[o.j,o.i,c.i,c.l],styles:[""]}),f)}]),X=i("tk/3"),Y=((h=function t(){_classCallCheck(this,t)}).\u0275mod=r.Rb({type:h}),h.\u0275inj=r.Qb({factory:function(t){return new(t||h)},imports:[[m,o.b,X.b,c.c,c.j]]}),h)}}]);