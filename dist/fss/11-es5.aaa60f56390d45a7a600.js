function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"+Ssh":function(t,e,a){"use strict";a.r(e),a.d(e,"AssessmentJuriComponentModule",(function(){return X}));var i=a("ofXK"),o=a("tyNb"),n=a("PSD3"),s=a.n(n),l=a("fXoL"),c=a("7JkF"),r=a("LYy9"),b=a("PLSI"),u=a("GRWQ"),d=a("3Pt+");function h(t,e){if(1&t&&(l.Yb(0,"option"),l.wc(1),l.Xb()),2&t){var a=e.$implicit;l.Hb(1),l.xc(a)}}function p(t,e){if(1&t&&(l.Yb(0,"option"),l.wc(1),l.Xb()),2&t){var a=e.$implicit;l.Hb(1),l.xc(a)}}var f,v,g=s.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3}),y=o.f.forChild([{path:"",component:(f=function(){function t(e,a,i,o){var n=this;_classCallCheck(this,t),this.socket=e,this.atletService=a,this.pointService=i,this.userService=o,this.isLoading=!1,this.userData={},this.optionValue=[],this.payload={},this.juryData={},this.juryData=JSON.parse(sessionStorage.getItem("users")),this.socket.emit("result-juri"),this.socket.on("data-juri",(function(){n.atletService.getAtletByMatch().then((function(t){console.log(t),n.userData=t.result[0],console.log(n.userData),n.payload.userId=n.juryData.id_user,n.payload.matchId=n.userData.id_match,n.payload.athleteId=n.userData.id_atlet,console.log(n.payload),n.isLoading=!1})).catch((function(t){404===t.status&&console.log("notFound"),console.log(t),n.isLoading=!1})),console.log("this.socket data juri")})),this.socket.on("reset-data-juri",(function(){n.userData={},n.optionValue=[],n.payload={};for(var t=5;t<10;t+=.2)n.optionValue.push(t.toFixed(1))}))}return _createClass(t,[{key:"ngOnInit",value:function(){for(var t=5;t<10;t+=.2)this.optionValue.push(t.toFixed(1));this.isLoading=!0}},{key:"_getAtlet",value:function(){var t=this;this.atletService.getAtletByMatch().then((function(e){console.log(e),t.userData=e.result[0],console.log(t.userData),t.payload.userId=t.juryData.id_user,t.payload.matchId=t.userData.id_match,t.payload.athleteId=t.userData.id_atlet,console.log(t.payload),t.isLoading=!1})).catch((function(e){404===e.status&&console.log("notFound"),console.log(e),t.isLoading=!1}))}},{key:"_handlerPoint",value:function(t,e){this.payload[e]=t,console.log(this.payload)}},{key:"onSubmit",value:function(){var t=this;console.log(this.payload),this.payload.techValue=Number(this.payload.techValue),this.payload.athValue=Number(this.payload.athValue),this.pointService.doPointsByUser(this.payload).then((function(e){console.log(e),s.a.fire({icon:"success",title:"Sukses",text:t.userData.atlet_name+" berhasil di nilai"}),t.payload.techValue=0,t.payload.athValue=0,$("#pointOptions").prop("selected",(function(){return this.defaultSelected})),$("#pointOptions2").prop("selected",(function(){return this.defaultSelected})),setTimeout((function(){t.socket.emit("scoreboard"),t.socket.emit("result-admin"),t.socket.emit("result-juri")}),100)})).catch((function(t){400===t.status?s.a.fire({icon:"error",title:"Atlet sudah mendapat penilaian"}):500===t.status&&s.a.fire({icon:"info",title:"Informasi",text:"Belum ada atlet yang bertanding"}),console.log(t)}))}},{key:"logout",value:function(){this.userService.logOut({id_user:this.juryData.id_user}).then((function(t){sessionStorage.clear(),window.location.replace("/login-admin")})).catch((function(t){g.fire({icon:"error",title:"Proses Logout Gagal"})}))}}]),t}(),f.\u0275fac=function(t){return new(t||f)(l.Tb(c.a),l.Tb(r.a),l.Tb(b.a),l.Tb(u.a))},f.\u0275cmp=l.Nb({type:f,selectors:[["app-assessment-juri"]],decls:70,vars:12,consts:[[1,"header","pb-6",2,"background","url('assets/images/banner/banner6.jpg')","height","200px"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"text-center","text-capitalize","text-light","mt-3",2,"margin","auto","font-size","40px"],[1,"row",2,"margin-top","-80px"],[1,"col"],[1,"col-lg-8","col-md-10"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"text-center"],[1,"col-md-6"],[1,"form-group"],[1,"form-control",3,"change"],["id","pointOptions","value","0","selected","",3,"selected"],[4,"ngFor","ngForOf"],["id","pointOptions2","value","0","selected","",3,"selected"],[1,"btn","btn-outline-dark","btn-block",3,"click"],[1,"fa","fa-award"]],template:function(t,e){1&t&&(l.Yb(0,"div",0),l.Yb(1,"div",1),l.Yb(2,"div",2),l.Yb(3,"div",3),l.Yb(4,"p",4),l.wc(5," Yth, "),l.Yb(6,"b"),l.wc(7),l.Xb(),l.wc(8),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(9,"div",5),l.Ub(10,"div",6),l.Yb(11,"div",7),l.Yb(12,"div",8),l.Yb(13,"div",9),l.Yb(14,"div",10),l.Yb(15,"div",11),l.Yb(16,"div",8),l.Yb(17,"div",9),l.Yb(18,"div",12),l.Yb(19,"label"),l.wc(20,"Nama Atlet "),l.Xb(),l.Yb(21,"h1"),l.wc(22),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Ub(23,"hr"),l.Yb(24,"div",8),l.Yb(25,"div",13),l.Yb(26,"div",12),l.Yb(27,"label"),l.wc(28,"Kontingen "),l.Xb(),l.Yb(29,"h2"),l.wc(30),l.Xb(),l.Xb(),l.Xb(),l.Yb(31,"div",13),l.Yb(32,"div",12),l.Yb(33,"label"),l.wc(34,"Atribut "),l.Xb(),l.Yb(35,"h2"),l.wc(36),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Ub(37,"div",6),l.Xb(),l.Yb(38,"div",8),l.Ub(39,"div",6),l.Yb(40,"div",7),l.Yb(41,"div",8),l.Yb(42,"div",9),l.Yb(43,"div",10),l.Yb(44,"div",11),l.Yb(45,"div",8),l.Yb(46,"div",9),l.Yb(47,"div",14),l.Yb(48,"label"),l.wc(49,"Nilai Teknik"),l.Xb(),l.Yb(50,"select",15),l.gc("change",(function(t){return e._handlerPoint(t.target.value,"techValue")})),l.Yb(51,"option",16),l.wc(52,"0"),l.Xb(),l.uc(53,h,2,1,"option",17),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(54,"div",8),l.Yb(55,"div",9),l.Yb(56,"div",14),l.Yb(57,"label"),l.wc(58,"Nilai Atletik"),l.Xb(),l.Yb(59,"select",15),l.gc("change",(function(t){return e._handlerPoint(t.target.value,"athValue")})),l.Yb(60,"option",18),l.wc(61,"0"),l.Xb(),l.uc(62,p,2,1,"option",17),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Ub(63,"hr"),l.Yb(64,"div",8),l.Yb(65,"div",9),l.Yb(66,"button",19),l.gc("click",(function(){return e.onSubmit()})),l.Ub(67,"i",20),l.wc(68," Nilai "),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Ub(69,"div",6),l.Xb()),2&t&&(l.Hb(7),l.xc(e.juryData.username),l.Hb(1),l.yc(" - ",e.juryData.name," "),l.Hb(14),l.yc(" ",e.userData.atlet_name,""),l.Hb(8),l.xc(e.userData.kontingen),l.Hb(5),l.Kb("","ao"===e.userData.tatami?"bg-primary":"bg-danger"," text-white"),l.Hb(1),l.yc(" ",e.userData.tatami,""),l.Hb(15),l.lc("selected",!0),l.Hb(2),l.lc("ngForOf",e.optionValue),l.Hb(7),l.lc("selected",!0),l.Hb(2),l.lc("ngForOf",e.optionValue))},directives:[d.i,d.l,i.i],styles:[""]}),f)}]),m=a("tk/3"),X=((v=function t(){_classCallCheck(this,t)}).\u0275mod=l.Rb({type:v}),v.\u0275inj=l.Qb({factory:function(t){return new(t||v)},imports:[[y,i.b,m.b,d.c,d.j]]}),v)}}]);