(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"+Ssh":function(t,e,i){"use strict";i.r(e),i.d(e,"AssessmentJuriComponentModule",(function(){return Y}));var a=i("ofXK"),o=i("tyNb"),s=i("PSD3"),n=i.n(s),l=i("fXoL"),b=i("7JkF"),c=i("LYy9"),r=i("PLSI"),d=i("GRWQ"),u=i("3Pt+");function h(t,e){if(1&t&&(l.Yb(0,"option"),l.wc(1),l.Xb()),2&t){const t=e.$implicit;l.Hb(1),l.xc(t)}}function p(t,e){if(1&t&&(l.Yb(0,"option"),l.wc(1),l.Xb()),2&t){const t=e.$implicit;l.Hb(1),l.xc(t)}}const g=n.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3}),v=o.f.forChild([{path:"",component:(()=>{class t{constructor(t,e,i,a){this.socket=t,this.atletService=e,this.pointService=i,this.userService=a,this.isLoading=!1,this.userData={},this.optionValue=[],this.payload={},this.juryData={},this.juryData=JSON.parse(sessionStorage.getItem("users")),this.socket.emit("result-juri"),this.socket.on("data-juri",()=>{this.atletService.getAtletByMatch().then(t=>{console.log(t),this.userData=t.result[0],console.log(this.userData),this.payload.userId=this.juryData.id_user,this.payload.matchId=this.userData.id_match,this.payload.athleteId=this.userData.id_atlet,console.log(this.payload),this.isLoading=!1}).catch(t=>{404===t.status&&console.log("notFound"),console.log(t),this.isLoading=!1}),console.log("this.socket data juri")}),this.socket.on("reset-data-juri",()=>{this.userData={},this.optionValue=[],this.payload={};for(let t=5;t<10;t+=.2)this.optionValue.push(t.toFixed(1))})}ngOnInit(){for(let t=5;t<10;t+=.2)this.optionValue.push(t.toFixed(1));this.isLoading=!0}_getAtlet(){this.atletService.getAtletByMatch().then(t=>{console.log(t),this.userData=t.result[0],console.log(this.userData),this.payload.userId=this.juryData.id_user,this.payload.matchId=this.userData.id_match,this.payload.athleteId=this.userData.id_atlet,console.log(this.payload),this.isLoading=!1}).catch(t=>{404===t.status&&console.log("notFound"),console.log(t),this.isLoading=!1})}_handlerPoint(t,e){this.payload[e]=t,console.log(this.payload)}onSubmit(){console.log(this.payload),this.payload.techValue=Number(this.payload.techValue),this.payload.athValue=Number(this.payload.athValue),this.pointService.doPointsByUser(this.payload).then(t=>{console.log(t),n.a.fire({icon:"success",title:"Sukses",text:this.userData.atlet_name+" berhasil di nilai"}),this.payload.techValue=0,this.payload.athValue=0,$("#pointOptions").prop("selected",(function(){return this.defaultSelected})),$("#pointOptions2").prop("selected",(function(){return this.defaultSelected})),setTimeout(()=>{this.socket.emit("scoreboard"),this.socket.emit("result-admin"),this.socket.emit("result-juri")},100)}).catch(t=>{400===t.status?n.a.fire({icon:"error",title:"Atlet sudah mendapat penilaian"}):500===t.status&&n.a.fire({icon:"info",title:"Informasi",text:"Belum ada atlet yang bertanding"}),console.log(t)})}logout(){this.userService.logOut({id_user:this.juryData.id_user}).then(t=>{sessionStorage.clear(),window.location.replace("/login-admin")}).catch(t=>{g.fire({icon:"error",title:"Proses Logout Gagal"})})}}return t.\u0275fac=function(e){return new(e||t)(l.Tb(b.a),l.Tb(c.a),l.Tb(r.a),l.Tb(d.a))},t.\u0275cmp=l.Nb({type:t,selectors:[["app-assessment-juri"]],decls:70,vars:12,consts:[[1,"header","pb-6",2,"background","url('assets/images/banner/banner6.jpg')","height","200px"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"text-center","text-capitalize","text-light","mt-3",2,"margin","auto","font-size","40px"],[1,"row",2,"margin-top","-80px"],[1,"col"],[1,"col-lg-8","col-md-10"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"text-center"],[1,"col-md-6"],[1,"form-group"],[1,"form-control",3,"change"],["id","pointOptions","value","0","selected","",3,"selected"],[4,"ngFor","ngForOf"],["id","pointOptions2","value","0","selected","",3,"selected"],[1,"btn","btn-outline-dark","btn-block",3,"click"],[1,"fa","fa-award"]],template:function(t,e){1&t&&(l.Yb(0,"div",0),l.Yb(1,"div",1),l.Yb(2,"div",2),l.Yb(3,"div",3),l.Yb(4,"p",4),l.wc(5," Yth, "),l.Yb(6,"b"),l.wc(7),l.Xb(),l.wc(8),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(9,"div",5),l.Ub(10,"div",6),l.Yb(11,"div",7),l.Yb(12,"div",8),l.Yb(13,"div",9),l.Yb(14,"div",10),l.Yb(15,"div",11),l.Yb(16,"div",8),l.Yb(17,"div",9),l.Yb(18,"div",12),l.Yb(19,"label"),l.wc(20,"Nama Atlet "),l.Xb(),l.Yb(21,"h1"),l.wc(22),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Ub(23,"hr"),l.Yb(24,"div",8),l.Yb(25,"div",13),l.Yb(26,"div",12),l.Yb(27,"label"),l.wc(28,"Kontingen "),l.Xb(),l.Yb(29,"h2"),l.wc(30),l.Xb(),l.Xb(),l.Xb(),l.Yb(31,"div",13),l.Yb(32,"div",12),l.Yb(33,"label"),l.wc(34,"Atribut "),l.Xb(),l.Yb(35,"h2"),l.wc(36),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Ub(37,"div",6),l.Xb(),l.Yb(38,"div",8),l.Ub(39,"div",6),l.Yb(40,"div",7),l.Yb(41,"div",8),l.Yb(42,"div",9),l.Yb(43,"div",10),l.Yb(44,"div",11),l.Yb(45,"div",8),l.Yb(46,"div",9),l.Yb(47,"div",14),l.Yb(48,"label"),l.wc(49,"Nilai Teknik"),l.Xb(),l.Yb(50,"select",15),l.gc("change",(function(t){return e._handlerPoint(t.target.value,"techValue")})),l.Yb(51,"option",16),l.wc(52,"0"),l.Xb(),l.uc(53,h,2,1,"option",17),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(54,"div",8),l.Yb(55,"div",9),l.Yb(56,"div",14),l.Yb(57,"label"),l.wc(58,"Nilai Atletik"),l.Xb(),l.Yb(59,"select",15),l.gc("change",(function(t){return e._handlerPoint(t.target.value,"athValue")})),l.Yb(60,"option",18),l.wc(61,"0"),l.Xb(),l.uc(62,p,2,1,"option",17),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Ub(63,"hr"),l.Yb(64,"div",8),l.Yb(65,"div",9),l.Yb(66,"button",19),l.gc("click",(function(){return e.onSubmit()})),l.Ub(67,"i",20),l.wc(68," Nilai "),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Ub(69,"div",6),l.Xb()),2&t&&(l.Hb(7),l.xc(e.juryData.username),l.Hb(1),l.yc(" - ",e.juryData.name," "),l.Hb(14),l.yc(" ",e.userData.atlet_name,""),l.Hb(8),l.xc(e.userData.kontingen),l.Hb(5),l.Kb("","ao"===e.userData.tatami?"bg-primary":"bg-danger"," text-white"),l.Hb(1),l.yc(" ",e.userData.tatami,""),l.Hb(15),l.lc("selected",!0),l.Hb(2),l.lc("ngForOf",e.optionValue),l.Hb(7),l.lc("selected",!0),l.Hb(2),l.lc("ngForOf",e.optionValue))},directives:[u.i,u.l,a.i],styles:[""]}),t})()}]);var X=i("tk/3");let Y=(()=>{class t{}return t.\u0275mod=l.Rb({type:t}),t.\u0275inj=l.Qb({factory:function(e){return new(e||t)},imports:[[v,a.b,X.b,u.c,u.j]]}),t})()}}]);