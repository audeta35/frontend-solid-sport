function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{QSqd:function(e,t,n){"use strict";n.r(t),n.d(t,"ImportAtletComponentModule",(function(){return y}));var i=n("ofXK"),o=n("tyNb"),r=n("PSD3"),a=n.n(r),c=function e(){_classCallCheck(this,e)},l=n("fXoL"),b=n("LYy9"),s=n("3Pt+"),u=["csvReader"],d=function(){return{standalone:!0}};function g(e,t){if(1&e){var n=l.Zb();l.Yb(0,"div"),l.Yb(1,"span",38),l.Yb(2,"input",39),l.gc("ngModelChange",(function(e){return l.qc(n),l.ic().$implicit.group=e})),l.Xb(),l.Xb(),l.Xb()}if(2&e){var i=l.ic().$implicit;l.Hb(2),l.lc("ngModel",i.group)("ngModelOptions",l.mc(2,d))}}function p(e,t){if(1&e){var n=l.Zb();l.Yb(0,"span",40),l.Yb(1,"input",39),l.gc("ngModelChange",(function(e){return l.qc(n),l.ic().$implicit.group=e})),l.Xb(),l.Xb()}if(2&e){var i=l.ic().$implicit;l.Hb(1),l.lc("ngModel",i.group)("ngModelOptions",l.mc(2,d))}}function f(e,t){if(1&e){var n=l.Zb();l.Yb(0,"tr"),l.Yb(1,"th"),l.Yb(2,"button",26),l.gc("click",(function(){l.qc(n);var e=t.index;return l.ic(2).deleteForm(e)})),l.Ub(3,"i",27),l.Xb(),l.Xb(),l.Yb(4,"th"),l.vc(5),l.Xb(),l.Yb(6,"td"),l.Yb(7,"div",28),l.Yb(8,"input",29),l.gc("ngModelChange",(function(e){return l.qc(n),t.$implicit.name=e})),l.Xb(),l.Xb(),l.Xb(),l.Yb(9,"td"),l.Yb(10,"div",28),l.Yb(11,"input",30),l.gc("ngModelChange",(function(e){return l.qc(n),t.$implicit.kontingen=e})),l.Xb(),l.Xb(),l.Xb(),l.Yb(12,"td"),l.Yb(13,"div",28),l.Yb(14,"select",31),l.gc("ngModelChange",(function(e){return l.qc(n),t.$implicit.kata=e})),l.Yb(15,"option",32),l.vc(16,"INKAI"),l.Xb(),l.Yb(17,"option",33),l.vc(18,"UNSU"),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(19,"td"),l.tc(20,g,3,3,"div",34),l.tc(21,p,2,3,"ng-template",null,35,l.uc),l.Xb(),l.Yb(23,"td"),l.Yb(24,"div",28),l.Yb(25,"select",31),l.gc("ngModelChange",(function(e){return l.qc(n),t.$implicit.attribute=e})),l.Yb(26,"option",36),l.vc(27,"AKA "),l.Xb(),l.Yb(28,"option",37),l.vc(29,"AO "),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb()}if(2&e){var i=t.index,o=t.$implicit,r=l.pc(22);l.Hb(5),l.xc(" ",i+1," "),l.Hb(3),l.lc("ngModel",o.name)("ngModelOptions",l.mc(11,d)),l.Hb(3),l.lc("ngModel",o.kontingen)("ngModelOptions",l.mc(12,d)),l.Hb(3),l.lc("ngModel",o.kata)("ngModelOptions",l.mc(13,d)),l.Hb(6),l.lc("ngIf","null"===o.group)("ngIfElse",r),l.Hb(5),l.lc("ngModel",o.attribute)("ngModelOptions",l.mc(14,d))}}function v(e,t){if(1&e){var n=l.Zb();l.Yb(0,"div",13),l.Yb(1,"div",18),l.Yb(2,"h1",19),l.vc(3," IMPOR DATA ATLET "),l.Xb(),l.Xb(),l.Yb(4,"div",14),l.Yb(5,"div",20),l.Yb(6,"table",21),l.Yb(7,"thead"),l.Yb(8,"tr"),l.Yb(9,"th"),l.vc(10," pilih "),l.Xb(),l.Yb(11,"th"),l.vc(12,"No"),l.Xb(),l.Yb(13,"th"),l.vc(14,"Nama Atlet"),l.Xb(),l.Yb(15,"th"),l.vc(16,"Kontingen"),l.Xb(),l.Yb(17,"th"),l.vc(18,"Kata yang dimainkan"),l.Xb(),l.Yb(19,"th"),l.vc(20,"Grup"),l.Xb(),l.Yb(21,"th"),l.vc(22,"Atribut"),l.Xb(),l.Xb(),l.Xb(),l.Yb(23,"tbody"),l.tc(24,f,30,15,"tr",22),l.Xb(),l.Xb(),l.Xb(),l.Yb(25,"div",23),l.Yb(26,"button",24),l.gc("click",(function(){return l.qc(n),l.ic().setForm()})),l.vc(27," Tambah Form "),l.Xb(),l.Yb(28,"button",25),l.gc("click",(function(){return l.qc(n),l.ic().submitForm()})),l.vc(29," Simpan Data "),l.Xb(),l.Xb(),l.Xb(),l.Xb()}if(2&e){var i=l.ic();l.Hb(24),l.lc("ngForOf",i.names)}}var h,m,X=a.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3}),Y=o.f.forChild([{path:"",component:(h=function(){function e(t,n){_classCallCheck(this,e),this.atletService=t,this.routes=n,this.names=[],this.isProcess=!1,this.group=[],this.maxUserGroup=10,this.records=[]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"uploadListener",value:function(e){var t=this;if(this.isValidCSVFile(e.srcElement.files[0])){var n=e.target,i=new FileReader;i.readAsText(n.files[0]),i.onload=function(){var e=i.result.split(/\r\n|\n/),n=t.getHeaderArray(e);t.records=t.getDataRecordsArrayFromCSVFile(e,n.length)},i.onerror=function(){console.log("error is occured while reading file!")}}else alert("Please import valid .csv file."),this.fileReset()}},{key:"getDataRecordsArrayFromCSVFile",value:function(e,t){var n,i=Math.ceil(e.length/this.maxUserGroup);for(n=1;n<=i;n++)this.group.push({name:"group "+n});for(n=1;n<=e.length;n++){var o=e[n].split(",");if(o.length==t){var r=new c;r.name=o[0].trim(),r.kontingen=o[1].trim(),r.attribute=o[2].trim(),r.kata=o[3].trim(),r.group=o[4].trim(),this.names.push({name:r.name,kontingen:r.kontingen,kata:r.kata,attribute:r.attribute,selected:!1,group:"group "+r.group})}}return console.log(this.names),[]}},{key:"isValidCSVFile",value:function(e){return e.name.endsWith(".csv")}},{key:"getHeaderArray",value:function(e){for(var t=e[0].split(","),n=[],i=0;i<t.length;i++)n.push(t[i]);return n}},{key:"fileReset",value:function(){this.csvReader.nativeElement.value="",this.records=[]}},{key:"addForm",value:function(){var e=this;this.isProcess=!0,setTimeout((function(){var t;for(t=1;t<=e.totalForm;t++)e.names.push({name:"",kontingen:"",kata:"",attribute:"",group:"null"});e.isProcess=!1}),500)}},{key:"setForm",value:function(){this.names.push({name:"",kontingen:"",kata:"",attribute:"",group:"null"})}},{key:"deleteForm",value:function(e){this.names.splice(e,1)}},{key:"numberOnly",value:function(e){var t=e.which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))}},{key:"submitForm",value:function(){var e=this;this.atletService.addAtletGroup(this.names,this.group).then((function(t){console.log(t),X.fire({icon:"success",title:"Data Atlet berhasil di tambah"}),e.routes.navigate(["file-atlet"])})).catch((function(e){X.fire({icon:"error",title:"Kesalahan pada server"}),console.log(e)}))}}]),e}(),h.\u0275fac=function(e){return new(e||h)(l.Tb(b.a),l.Tb(o.b))},h.\u0275cmp=l.Nb({type:h,selectors:[["app-import-atlet"]],viewQuery:function(e,t){var n;1&e&&l.zc(u,!0),2&e&&l.oc(n=l.hc())&&(t.csvReader=n.first)},decls:26,vars:1,consts:[[1,"header","pb-6",2,"background","url('assets/images/banner/banner6.jpg')","height","200px"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"text-center","text-light","mt-3",2,"margin","auto","font-size","40px"],[1,"row",2,"margin-top","-100px"],[1,"col"],[1,"col-lg-11","col-md-11"],[1,"row"],[1,"col-md-12"],["routerLink","/file-atlet",1,"btn","btn-sm","btn-neutral","mb-4"],[1,"fa","fa-angle-left"],[1,"float-right","badge","badge-success"],[1,"card"],[1,"card-body"],["type","file","name","Upload CSV","id","txtFileUpload","accept",".csv",1,"btn","btn-block","btn-outline-success",3,"change"],["csvReader",""],["class","card",4,"ngIf"],[1,"card-header","bg-primary"],[1,"text-uppercase","text-center","text-white"],[1,"table-responsive"],[1,"table","table-borderless"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","float-right","btn-outline-success",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fa","fa-trash"],[1,"form-group"],["placeholder","Nama Atlet","type","text",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["placeholder","Kontingen","type","text",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["placeholder","Nama Atlet",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["value","inkai"],["value","unsu"],[4,"ngIf","ngIfElse"],["grouping",""],["value","aka",2,"background-color","red","color","#fff"],["value","ao",2,"background-color","blue","color","#fff"],[1,"badge","badge-primary"],["placeholder","group","type","text",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"badge","badge-success"]],template:function(e,t){1&e&&(l.Yb(0,"div",0),l.Yb(1,"div",1),l.Yb(2,"div",2),l.Yb(3,"div",3),l.Yb(4,"p",4),l.vc(5,"Import Data Atlet"),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(6,"div",5),l.Ub(7,"div",6),l.Yb(8,"div",7),l.Yb(9,"div",8),l.Yb(10,"div",9),l.Yb(11,"a",10),l.Ub(12,"i",11),l.vc(13," Back"),l.Xb(),l.Yb(14,"span",12),l.vc(15,"import .csv"),l.Xb(),l.Yb(16,"div",13),l.Yb(17,"div",14),l.Yb(18,"div",8),l.Yb(19,"div",9),l.Yb(20,"input",15,16),l.gc("change",(function(e){return t.uploadListener(e)})),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(22,"div",8),l.Yb(23,"div",9),l.tc(24,v,30,1,"div",17),l.Xb(),l.Xb(),l.Xb(),l.Ub(25,"div",6),l.Xb()),2&e&&(l.Hb(24),l.lc("ngIf",t.names.length))},directives:[o.e,i.j,i.i,s.b,s.e,s.h,s.k,s.i,s.l],styles:[""]}),h)}]),k=n("tk/3"),y=((m=function e(){_classCallCheck(this,e)}).\u0275mod=l.Rb({type:m}),m.\u0275inj=l.Qb({factory:function(e){return new(e||m)},imports:[[Y,i.b,k.b,s.c,s.j]]}),m)}}]);