function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"+Ssh":function(t,e,i){"use strict";i.r(e),i.d(e,"AssessmentJuriComponentModule",(function(){return Y}));var a=i("ofXK"),o=i("tyNb"),n=i("PSD3"),s=i.n(n),l=i("fXoL"),c=i("7JkF"),r=i("LYy9"),b=i("PLSI"),u=i("GRWQ"),d=i("3Pt+");function h(t,e){if(1&t&&(l.Yb(0,"option"),l.vc(1),l.Xb()),2&t){var i=e.$implicit;l.Hb(1),l.wc(i)}}function p(t,e){if(1&t&&(l.Yb(0,"option"),l.vc(1),l.Xb()),2&t){var i=e.$implicit;l.Hb(1),l.wc(i)}}var v,f,g=s.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3}),m=o.f.forChild([{path:"",component:(v=function(){function t(e,i,a,o){var n=this;_classCallCheck(this,t),this.socket=e,this.atletService=i,this.pointService=a,this.userService=o,this.isLoading=!1,this.userData={},this.optionValue=[],this.payload={},this.juryData={},this.juryData=JSON.parse(sessionStorage.getItem("users")),this.socket.emit("result-juri"),this.socket.on("data-juri",(function(){n.atletService.getAtletByMatch().then((function(t){console.log(t),n.userData=t.result[0],console.log(n.userData),n.payload.userId=n.juryData.id_user,n.payload.matchId=n.userData.id_match,n.payload.athleteId=n.userData.id_atlet,console.log(n.payload),n.isLoading=!1})).catch((function(t){404===t.status&&console.log("notFound"),console.log(t),n.isLoading=!1})),console.log("this.socket data juri")})),this.socket.on("reset-data-juri",(function(){n.userData={},n.optionValue=[],n.payload={};for(var t=5;t<10;t+=.2)n.optionValue.push(t.toFixed(1))}))}return _createClass(t,[{key:"ngOnInit",value:function(){for(var t=5;t<10;t+=.2)this.optionValue.push(t.toFixed(1));this.isLoading=!0}},{key:"_getAtlet",value:function(){var t=this;this.atletService.getAtletByMatch().then((function(e){console.log(e),t.userData=e.result[0],console.log(t.userData),t.payload.userId=t.juryData.id_user,t.payload.matchId=t.userData.id_match,t.payload.athleteId=t.userData.id_atlet,console.log(t.payload),t.isLoading=!1})).catch((function(e){404===e.status&&console.log("notFound"),console.log(e),t.isLoading=!1}))}},{key:"_handlerPoint",value:function(t,e){this.payload[e]=t,console.log(this.payload)}},{key:"onSubmit",value:function(){var t=this;console.log(this.payload),this.payload.techValue=Number(this.payload.techValue),this.payload.athValue=Number(this.payload.athValue),this.pointService.doPointsByUser(this.payload).then((function(e){console.log(e),s.a.fire({icon:"success",title:"Sukses",text:t.userData.atlet_name+" berhasil di nilai"}),t.payload.techValue=0,t.payload.athValue=0,$("#pointOptions").prop("selected",(function(){return this.defaultSelected})),$("#pointOptions2").prop("selected",(function(){return this.defaultSelected})),setTimeout((function(){t.socket.emit("scoreboard"),t.socket.emit("result-admin"),t.socket.emit("result-juri")}),100)})).catch((function(t){400===t.status?s.a.fire({icon:"error",title:"Atlet sudah mendapat penilaian"}):500===t.status&&s.a.fire({icon:"info",title:"Informasi",text:"Belum ada atlet yang bertanding"}),console.log(t)}))}},{key:"logout",value:function(){this.userService.logOut({id_user:this.juryData.id_user}).then((function(t){sessionStorage.clear(),window.location.replace("/login-admin")})).catch((function(t){g.fire({icon:"error",title:"Proses Logout Gagal"})}))}}]),t}(),v.\u0275fac=function(t){return new(t||v)(l.Tb(c.a),l.Tb(r.a),l.Tb(b.a),l.Tb(u.a))},v.\u0275cmp=l.Nb({type:v,selectors:[["app-assessment-juri"]],decls:67,vars:10,consts:[[1,"header","pb-6",2,"background","url('assets/images/banner/banner6.jpg')","height","200px"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"text-center","text-light","mt-3",2,"margin","auto","font-size","40px"],[1,"row",2,"margin-top","-80px"],[1,"col"],[1,"col-lg-8","col-md-10"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"text-center"],[1,"col-md-6"],[1,"form-group"],[1,"form-control",3,"change"],["id","pointOptions","value","0","selected","",3,"selected"],[4,"ngFor","ngForOf"],["id","pointOptions2","value","0","selected","",3,"selected"],[1,"btn","btn-outline-dark","btn-block",3,"click"],[1,"fa","fa-award"]],template:function(t,e){1&t&&(l.Yb(0,"div",0),l.Yb(1,"div",1),l.Yb(2,"div",2),l.Yb(3,"div",3),l.Yb(4,"p",4),l.vc(5,"Penilaian Juri"),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(6,"div",5),l.Ub(7,"div",6),l.Yb(8,"div",7),l.Yb(9,"div",8),l.Yb(10,"div",9),l.Yb(11,"div",10),l.Yb(12,"div",11),l.Yb(13,"div",8),l.Yb(14,"div",9),l.Yb(15,"div",12),l.Yb(16,"label"),l.vc(17,"Nama Atlet "),l.Xb(),l.Yb(18,"h1"),l.vc(19),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Ub(20,"hr"),l.Yb(21,"div",8),l.Yb(22,"div",13),l.Yb(23,"div",12),l.Yb(24,"label"),l.vc(25,"Kontingen "),l.Xb(),l.Yb(26,"h2"),l.vc(27),l.Xb(),l.Xb(),l.Xb(),l.Yb(28,"div",13),l.Yb(29,"div",12),l.Yb(30,"label"),l.vc(31,"Tatami "),l.Xb(),l.Yb(32,"h2"),l.vc(33),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Ub(34,"div",6),l.Xb(),l.Yb(35,"div",8),l.Ub(36,"div",6),l.Yb(37,"div",7),l.Yb(38,"div",8),l.Yb(39,"div",9),l.Yb(40,"div",10),l.Yb(41,"div",11),l.Yb(42,"div",8),l.Yb(43,"div",9),l.Yb(44,"div",14),l.Yb(45,"label"),l.vc(46,"Nilai Teknik"),l.Xb(),l.Yb(47,"select",15),l.gc("change",(function(t){return e._handlerPoint(t.target.value,"techValue")})),l.Yb(48,"option",16),l.vc(49,"0"),l.Xb(),l.tc(50,h,2,1,"option",17),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(51,"div",8),l.Yb(52,"div",9),l.Yb(53,"div",14),l.Yb(54,"label"),l.vc(55,"Nilai Atletik"),l.Xb(),l.Yb(56,"select",15),l.gc("change",(function(t){return e._handlerPoint(t.target.value,"athValue")})),l.Yb(57,"option",18),l.vc(58,"0"),l.Xb(),l.tc(59,p,2,1,"option",17),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Ub(60,"hr"),l.Yb(61,"div",8),l.Yb(62,"div",9),l.Yb(63,"button",19),l.gc("click",(function(){return e.onSubmit()})),l.Ub(64,"i",20),l.vc(65," Nilai "),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Ub(66,"div",6),l.Xb()),2&t&&(l.Hb(19),l.xc(" ",e.userData.atlet_name,""),l.Hb(8),l.wc(e.userData.kontingen),l.Hb(5),l.Kb("","ao"===e.userData.tatami?"bg-primary":"bg-danger"," text-white"),l.Hb(1),l.xc(" ",e.userData.tatami,""),l.Hb(15),l.lc("selected",!0),l.Hb(2),l.lc("ngForOf",e.optionValue),l.Hb(7),l.lc("selected",!0),l.Hb(2),l.lc("ngForOf",e.optionValue))},directives:[d.i,d.l,a.i],styles:[""]}),v)}]),X=i("tk/3"),Y=((f=function t(){_classCallCheck(this,t)}).\u0275mod=l.Rb({type:f}),f.\u0275inj=l.Qb({factory:function(t){return new(t||f)},imports:[[m,a.b,X.b,d.c,d.j]]}),f)}}]);